import{share as n,mergeMap as e,filter as t,takeUntil as r,make as o,merge as u}from"wonka";import{execute as i}from"graphql/execution/execute.mjs";import{getOperationName as f,makeResult as c,makeErrorResult as a,mergeResultPatch as l}from"@urql/core";var m="undefined"!=typeof Symbol?Symbol.asyncIterator:null;function v(v){var d=v.schema,p=v.rootValue,y=v.context,x=v.fieldResolver,h=v.typeResolver;return function(v){var s=v.forward;return function(v){var k=n(v),q=e((function(n){var e=n.key,u=t((function(n){return"teardown"===n.kind&&n.key===e}))(k),v="function"==typeof y?y(n):y;return r(u)(function(n,e){return o((function(t){var r=!1;return Promise.resolve().then((function(){if(!r)return i.apply(void 0,e)})).then((function(e){if(!r&&e){if(m&&e[m]){var o=e[m](),u=null;return o.next().then((function e(i){var f=i.done,a=i.value;if(a&&t.next(u=u?l(u,a):c(n,a)),!f&&!r)return o.next().then(e)}))}t.next(c(n,e))}})).then((function(){t.complete()})).catch((function(e){t.next(a(n,e)),t.complete()})),function(){r=!0}}))}(n,[d,n.query,p,v,n.variables,f(n.query),x,h]))}))(t((function(n){return"query"===n.kind||"mutation"===n.kind}))(k)),w=s(t((function(n){return"teardown"===n.kind}))(k));return u([q,w])}}}export{v as executeExchange};
//# sourceMappingURL=urql-exchange-execute.min.mjs.map
