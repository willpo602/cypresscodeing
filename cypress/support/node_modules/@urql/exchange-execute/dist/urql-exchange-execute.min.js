var e=require("wonka"),n=require("graphql"),r=require("@urql/core"),t="undefined"!=typeof Symbol?Symbol.asyncIterator:null;exports.executeExchange=function(u){var o=u.schema,i=u.rootValue,a=u.context,c=u.fieldResolver,f=u.typeResolver;return function(u){var l=u.forward;return function(u){var m=e.share(u),v=e.mergeMap((function(u){var l=u.key,v=e.filter((function(e){return"teardown"===e.kind&&e.key===l}))(m),s="function"==typeof a?a(u):a;return e.takeUntil(v)(function(u,o){return e.make((function(e){var i=!1;return Promise.resolve().then((function(){if(!i)return n.execute.apply(void 0,o)})).then((function(n){if(!i&&n){if(t&&n[t]){var o=n[t](),a=null;return o.next().then((function n(t){var c=t.done,f=t.value;if(f&&e.next(a=a?r.mergeResultPatch(a,f):r.makeResult(u,f)),!c&&!i)return o.next().then(n)}))}e.next(r.makeResult(u,n))}})).then((function(){e.complete()})).catch((function(n){e.next(r.makeErrorResult(u,n)),e.complete()})),function(){i=!0}}))}(u,[o,u.query,i,s,u.variables,r.getOperationName(u.query),c,f]))}))(e.filter((function(e){return"query"===e.kind||"mutation"===e.kind}))(m)),s=l(e.filter((function(e){return"teardown"===e.kind}))(m));return e.merge([v,s])}}};
//# sourceMappingURL=urql-exchange-execute.min.js.map
